{
  "name": "ClickUp - Tasks - RAG",
  "nodes": [
    {
      "parameters": {
        "content": "## Almacenar tareas\n",
        "height": 688,
        "width": 704
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1392,
        -320
      ],
      "typeVersion": 1,
      "id": "ac9c1713-69aa-46fe-8086-38273ea95645",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.chatInput }}",
        "options": {
          "systemMessage": "=Eres un asistente inteligente integrado con ClickUp (agente de ClickUp). \nTu objetivo principal es ayudar a los usuarios a encontrar, resumir y actuar sobre información relacionada con su espacio de trabajo ClickUp.\n\n## Contexto\n- Toda la información proviene de documentos en formato JSON.\n- Cada objeto JSON representa una tarea con campos definidos.\n- No inventes campos ni valores que no estén presentes en el JSON.\n\n## Reglas\n1. Cuando el usuario solicite tareas, responde siempre en formato de lista con los siguientes campos:\n   * Título de la tarea (`title`)\n   * Estado de la tarea (`status`)\n   * Creador de la tarea (`creator`)\n   * Fecha de actualización (`updated_at`)\n   * Url (`url`)\n2. Si algún campo no existe en el JSON, responde explícitamente: \"Campo no disponible\".\n3. No inventes información ni valores. Si no hay datos suficientes, responde: \"No dispongo de información suficiente\".\n4. Mantén las respuestas concisas, claras y consistentes.\n5. Usa un tono institucional y técnico, orientado a trazabilidad.\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        2368,
        -256
      ],
      "id": "988b3bb1-0f69-4254-80f7-588a2902337e",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.3,
      "position": [
        2192,
        -256
      ],
      "id": "9dc44246-c85e-4d1e-aebe-3f2977dea2fe",
      "name": "When chat message received",
      "webhookId": "6c8d9157-f52b-440b-b7ea-34e281863b1f"
    },
    {
      "parameters": {
        "operation": "getAll",
        "team": "3121590",
        "space": "=3241325",
        "folder": "=90172621115",
        "list": "=901703156817",
        "filters": {
          "dateUpdatedGt": "={{ (new Date($json.modified_time *1)).toISOString() }}",
          "includeClosed": true,
          "orderBy": "created",
          "subtasks": true
        }
      },
      "type": "n8n-nodes-base.clickUp",
      "typeVersion": 1,
      "position": [
        -304,
        -160
      ],
      "id": "8899a775-29d3-4e76-9a3d-1587b42d090b",
      "name": "ClickUp - Todas las tareas",
      "credentials": {
        "clickUpApi": {
          "id": "T0TineeyYXm7rzFF",
          "name": "ClickUp account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "d5e2bfba-9603-4b23-a1ad-fe0a8c10239c",
              "name": "id",
              "value": "={{ $('ClickUp - Todas las tareas').item.json.id }}",
              "type": "string"
            },
            {
              "id": "82f03019-4a64-4694-9ad2-fa0da0290ad8",
              "name": "titulo",
              "value": "={{ $('ClickUp - Todas las tareas').item.json.name }}",
              "type": "string"
            },
            {
              "id": "32f1222c-5087-4cb2-8fbf-c3f2d8e83e7d",
              "name": "descripcion",
              "value": "={{ $('ClickUp - Todas las tareas').item.json.description }}",
              "type": "string"
            },
            {
              "id": "baea74c2-08b1-4623-b8ab-145329c6ea53",
              "name": "estado",
              "value": "={{ $('ClickUp - Todas las tareas').item.json.status.status }}",
              "type": "string"
            },
            {
              "id": "86f43dee-172a-4616-8bae-784b936b1223",
              "name": "creador",
              "value": "={{ $('ClickUp - Todas las tareas').item.json.creator.username }}",
              "type": "string"
            },
            {
              "id": "ed6d35fe-3954-45cf-b942-4ac04287ed57",
              "name": "asignados",
              "value": "={{ $('ClickUp - Todas las tareas').item.json.assignees.map(assignee => assignee.username) }}",
              "type": "array"
            },
            {
              "id": "36a254dc-b596-43c6-9726-93ba5962b7e4",
              "name": "fecha_creacion",
              "value": "={{ (new Date($json.date_created *1)).toLocaleString('es-ES', { timeZone: 'UTC' }) }}",
              "type": "string"
            },
            {
              "id": "f42fb5f9-b82b-4e36-9802-3919828a2399",
              "name": "raw_date_created",
              "value": "={{ $('ClickUp - Todas las tareas').item.json.date_created }}",
              "type": "string"
            },
            {
              "id": "34e8cc82-888c-47c2-88ea-917ed50f0b2b",
              "name": "fecha_actualizacion",
              "value": "={{ (new Date($('ClickUp - Todas las tareas').item.json.date_updated *1)).toLocaleString('es-ES', { timeZone: 'UTC' }) }}",
              "type": "string"
            },
            {
              "id": "1d9e1024-78e0-4790-871c-707b0470e524",
              "name": "raw_date_updated",
              "value": "={{ $('ClickUp - Todas las tareas').item.json.date_updated }}",
              "type": "string"
            },
            {
              "id": "e914dd36-8f66-4937-9424-589e1cae80d0",
              "name": "fecha_cierre",
              "value": "={{ $('ClickUp - Todas las tareas').item.json.date_closed && (new Date($('ClickUp - Todas las tareas').item.json.date_closed *1)).toLocaleString('es-ES', { timeZone: 'UTC' }) }}",
              "type": "string"
            },
            {
              "id": "76d23ba9-b62d-4fcc-93b0-9c8973f22dd1",
              "name": "raw_date_closed",
              "value": "={{ $('ClickUp - Todas las tareas').item.json.date_closed }}",
              "type": "string"
            },
            {
              "id": "5895a9d3-2ec8-42ee-983b-803c5aceb7eb",
              "name": "fecha_terminado",
              "value": "={{ $('ClickUp - Todas las tareas').item.json.date_done && (new Date($('ClickUp - Todas las tareas').item.json.date_done *1)).toLocaleString('es-ES', { timeZone: 'UTC' }) }}",
              "type": "string"
            },
            {
              "id": "311b983a-99a2-46ea-b375-8c5b07f370f7",
              "name": "raw_date_done",
              "value": "={{ $('ClickUp - Todas las tareas').item.json.date_done }}",
              "type": "string"
            },
            {
              "id": "a9110ec1-50fd-4e87-8193-3ce50da53027",
              "name": "custom_fields",
              "value": "={{ $('ClickUp - Todas las tareas').item.json.custom_fields.map(field => `${field.name}: ${Array.isArray(field.value) ? field.value.map(id => Object.fromEntries(field.type_config.options.map(o => [o.id, o.label]))[id]).toJsonString(): field.value || null}`) }}",
              "type": "array"
            },
            {
              "id": "1f592ed9-1052-4ede-8356-dae7f79c2908",
              "name": "url",
              "value": "={{ $('ClickUp - Todas las tareas').item.json.url }}",
              "type": "string"
            },
            {
              "id": "b2277d11-3f58-4c12-b185-e16e55154da7",
              "name": "archivado",
              "value": "={{ $('ClickUp - Todas las tareas').item.json.archived }}",
              "type": "boolean"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        224,
        -144
      ],
      "id": "078517ac-526e-4b41-9b6c-3a237187b880",
      "name": "ClickUp - Campos Esenciales"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.embeddingsGoogleGemini",
      "typeVersion": 1,
      "position": [
        2080,
        224
      ],
      "id": "b50455ba-53cd-4cc0-8e5c-0d2522822391",
      "name": "Embeddings Google Gemini",
      "credentials": {
        "googlePalmApi": {
          "id": "3zriddEonlKYnQaC",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "description": "=Eres un asistente técnico institucional integrado con ClickUp. \nTu conocimiento proviene únicamente de fragmentos en formato JSON entregados desde el vector store. \nNo inventes información ni campos que no estén presentes en el JSON.\n\n## Reglas de respuesta\n1. Usa exclusivamente los datos proporcionados en el contexto.\n2. Responde siempre en formato de lista con los siguientes campos:\n   - Título de la tarea (`title`)\n   - Estado de la tarea (`status`)\n   - Creador de la tarea (`creator`)\n   - Fecha de actualización (`updated_at`)\n   * Url (`url`)\n3. Si algún campo no existe en el JSON, escribe: \"Campo no disponible\".\n4. Si el contexto no contiene información suficiente, responde: \"No dispongo de información suficiente\".\n5. Mantén las respuestas concisas, claras y orientadas a trazabilidad.\n",
        "topK": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Limit', ``, 'number') }}"
      },
      "type": "@n8n/n8n-nodes-langchain.toolVectorStore",
      "typeVersion": 1.1,
      "position": [
        2512,
        -80
      ],
      "id": "84f40a23-623f-49cc-a760-b7ffd089632e",
      "name": "Answer questions with a vector store"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStorePGVector",
      "typeVersion": 1.3,
      "position": [
        2432,
        64
      ],
      "id": "89e8f3ad-2287-4c5d-bf8b-038a260cebcf",
      "name": "PGVector Store",
      "credentials": {
        "postgres": {
          "id": "yesEzMfGhgOZy3to",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "mode": "insert",
        "embeddingBatchSize": 250,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStorePGVector",
      "typeVersion": 1.3,
      "position": [
        1440,
        -256
      ],
      "id": "e77b5c99-ffbd-459c-8b39-6aa169b76e05",
      "name": "Almacenar Tareas ClickUp",
      "credentials": {
        "postgres": {
          "id": "yesEzMfGhgOZy3to",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        2688,
        64
      ],
      "id": "00fd4892-c737-4500-bc9c-293061b36490",
      "name": "Gemini Model",
      "credentials": {
        "googlePalmApi": {
          "id": "3zriddEonlKYnQaC",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        2272,
        -80
      ],
      "id": "92b7edc4-a78a-4b67-8d20-30298abb0c2c",
      "name": "Gemini Chat",
      "credentials": {
        "googlePalmApi": {
          "id": "3zriddEonlKYnQaC",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $json.sessionId }}"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "typeVersion": 1.3,
      "position": [
        2400,
        -80
      ],
      "id": "d904df03-80ce-4956-bd7f-b0d9a74f0f19",
      "name": "Chat Memory",
      "credentials": {
        "postgres": {
          "id": "yesEzMfGhgOZy3to",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "content": "## Agente ClickUp",
        "height": 688,
        "width": 736,
        "color": 2
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2144,
        -320
      ],
      "typeVersion": 1,
      "id": "b8f3e95f-cbdc-4954-becb-bc7ca383f0d6",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "SELECT (EXTRACT(EPOCH FROM COALESCE(MAX(modified_time), TIMESTAMP '2025-10-01 00:00:00')) * 1000) ::bigint AS modified_time\n  FROM ingested_tasks;",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        -480,
        -160
      ],
      "id": "adac214b-a40b-4f82-a901-56e4b3e791d2",
      "name": "Obtener la fecha última actualización",
      "alwaysOutputData": true,
      "credentials": {
        "postgres": {
          "id": "yesEzMfGhgOZy3to",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "select count(*) as ingested from ingested_tasks\nwhere task_id = '{{ $json.id }}' and modified_time = TIMESTAMP'{{ new Date($json.date_updated *1).toISOString().replace('T',' ').split('.')[0] }}'",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        -128,
        -160
      ],
      "id": "8f22a724-1025-4aa7-a053-77a81f93f8d1",
      "name": "Obtener carga previa",
      "credentials": {
        "postgres": {
          "id": "yesEzMfGhgOZy3to",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "974ed4c4-499a-41ed-9bfa-97f157ff9755",
              "leftValue": "={{ $json.ingested }}",
              "rightValue": "0",
              "operator": {
                "type": "string",
                "operation": "notEquals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        32,
        -160
      ],
      "id": "adb6d66c-1434-4330-ad92-cfa0fdb0ce8e",
      "name": "¿Fue previamente cargado?"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [
        224,
        -304
      ],
      "id": "a5e86908-baac-4f4b-9dd8-3766e642449d",
      "name": "No hacer nada"
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "delete from n8n_vectors where task_id= '{{ $('ClickUp - Campos Esenciales').item.json.id }}'",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        720,
        -80
      ],
      "id": "fb3c4b16-8de6-4ec6-a497-e48626b0acb6",
      "name": "Borrar referencias",
      "alwaysOutputData": true,
      "credentials": {
        "postgres": {
          "id": "yesEzMfGhgOZy3to",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "mode": "chooseBranch"
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        1008,
        -128
      ],
      "id": "b4315f84-d375-41eb-a393-b92bc1b2bbe2",
      "name": "Esperar eliminación"
    },
    {
      "parameters": {
        "content": "## Selección de tareas\n",
        "height": 688,
        "width": 2032,
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -688,
        -320
      ],
      "typeVersion": 1,
      "id": "23d17a91-dd49-420a-bff5-20412f2f8327",
      "name": "Sticky Note2"
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "UPDATE n8n_vectors\nSET task_id = '{{ $('ClickUp - Campos Esenciales').item.json.id }}'\nWHERE metadata->'loc'->'lines' = '{{ $json.metadata.loc.lines.toJsonString() }}' and task_id is null",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        1728,
        -256
      ],
      "id": "b9d744e2-4e5c-4d65-904b-1eedd6897c5f",
      "name": "Actualizar task_id en vectores",
      "credentials": {
        "postgres": {
          "id": "yesEzMfGhgOZy3to",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [
        1888,
        -256
      ],
      "id": "5a666dd7-ba03-4eb4-855a-291a158a294b",
      "name": "Terminar proceso"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -640,
        -160
      ],
      "id": "9f03d862-9f31-4e8d-9175-11c7b4c9f6ac",
      "name": "Iniciar"
    },
    {
      "parameters": {
        "chunkSize": 1500,
        "chunkOverlap": 300,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter",
      "typeVersion": 1,
      "position": [
        1440,
        112
      ],
      "id": "3c972850-947e-4ea1-b78a-0743ea83e0ec",
      "name": "Recursive Character Text Splitter"
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "SELECT to_regclass('public.n8n_vectors') IS NOT NULL AS exists",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        384,
        16
      ],
      "id": "5ac6b9fd-9631-4372-881c-46e649fa48ad",
      "name": "Buscar tabla vectores",
      "credentials": {
        "postgres": {
          "id": "yesEzMfGhgOZy3to",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "5645e85e-73fe-4bf9-8df7-35e3acda0823",
              "leftValue": "={{ $json.exists }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        560,
        112
      ],
      "id": "ba864895-67cf-4f0e-8e6e-0f7ca8983e07",
      "name": "¿Borrar si existe la tabla?"
    },
    {
      "parameters": {
        "jsonMode": "expressionData",
        "jsonData": "={{ JSON.stringify($('ClickUp - Campos Esenciales').item.json,null,1)}}",
        "textSplittingMode": "custom",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "typeVersion": 1.1,
      "position": [
        1408,
        -32
      ],
      "id": "44c9e980-6576-4c23-b4b0-20653f6d9543",
      "name": "Insertar Tareas"
    },
    {
      "parameters": {
        "schema": {
          "__rl": true,
          "mode": "list",
          "value": "public"
        },
        "table": {
          "__rl": true,
          "value": "ingested_tasks",
          "mode": "list",
          "cachedResultName": "ingested_tasks"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "task_id": "={{ $json.id }}",
            "title": "={{ $json.titulo }}",
            "creator": "={{ $json.creador }}",
            "task_status": "={{ $json.estado }}",
            "modified_time": "={{ new Date($json.raw_date_updated *1).toISOString().replace('T',' ').split('.')[0] }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "task_id",
              "displayName": "task_id",
              "required": true,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "title",
              "displayName": "title",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "creator",
              "displayName": "creator",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "task_status",
              "displayName": "task_status",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "modified_time",
              "displayName": "modified_time",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "dateTime",
              "canBeUsedToMatch": true
            },
            {
              "id": "last_ingested",
              "displayName": "last_ingested",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "dateTime",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        1200,
        -128
      ],
      "id": "e3e097f9-3677-4cf5-9dae-ec3b89306c7f",
      "name": "Llenar ingested tasks",
      "credentials": {
        "postgres": {
          "id": "yesEzMfGhgOZy3to",
          "name": "Postgres account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ClickUp - Todas las tareas": {
      "main": [
        [
          {
            "node": "Obtener carga previa",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ClickUp - Campos Esenciales": {
      "main": [
        [
          {
            "node": "Esperar eliminación",
            "type": "main",
            "index": 0
          },
          {
            "node": "Buscar tabla vectores",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings Google Gemini": {
      "ai_embedding": [
        [
          {
            "node": "Almacenar Tareas ClickUp",
            "type": "ai_embedding",
            "index": 0
          },
          {
            "node": "PGVector Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Answer questions with a vector store": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "PGVector Store": {
      "ai_vectorStore": [
        [
          {
            "node": "Answer questions with a vector store",
            "type": "ai_vectorStore",
            "index": 0
          }
        ]
      ]
    },
    "Gemini Model": {
      "ai_languageModel": [
        [
          {
            "node": "Answer questions with a vector store",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Gemini Chat": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Chat Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Obtener la fecha última actualización": {
      "main": [
        [
          {
            "node": "ClickUp - Todas las tareas",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Obtener carga previa": {
      "main": [
        [
          {
            "node": "¿Fue previamente cargado?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "¿Fue previamente cargado?": {
      "main": [
        [
          {
            "node": "No hacer nada",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "ClickUp - Campos Esenciales",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Borrar referencias": {
      "main": [
        [
          {
            "node": "Esperar eliminación",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Esperar eliminación": {
      "main": [
        [
          {
            "node": "Llenar ingested tasks",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Almacenar Tareas ClickUp": {
      "main": [
        [
          {
            "node": "Actualizar task_id en vectores",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Actualizar task_id en vectores": {
      "main": [
        [
          {
            "node": "Terminar proceso",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Iniciar": {
      "main": [
        [
          {
            "node": "Obtener la fecha última actualización",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Recursive Character Text Splitter": {
      "ai_textSplitter": [
        [
          {
            "node": "Insertar Tareas",
            "type": "ai_textSplitter",
            "index": 0
          }
        ]
      ]
    },
    "Buscar tabla vectores": {
      "main": [
        [
          {
            "node": "¿Borrar si existe la tabla?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "¿Borrar si existe la tabla?": {
      "main": [
        [
          {
            "node": "Borrar referencias",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Esperar eliminación",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Insertar Tareas": {
      "ai_document": [
        [
          {
            "node": "Almacenar Tareas ClickUp",
            "type": "ai_document",
            "index": 0
          }
        ]
      ]
    },
    "Llenar ingested tasks": {
      "main": [
        [
          {
            "node": "Almacenar Tareas ClickUp",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "4c69263d-45fc-4371-9a21-e05f21a076c8",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "162143d743b8fbc55c88f1444a88fcd319b372a6e99dfd4f20be47340cf1e351"
  },
  "id": "Rg4pU9RUvA55G4rF",
  "tags": []
}